!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VueRouter=e()}(this,function(){"use strict";function t(t,e){if(!t)throw new Error("[vue-router] "+e)}function e(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}var r={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var r=e.props,n=e.children,o=e.parent,i=e.data;i.routerView=!0;for(var a=o.$createElement,u=r.name,s=o.$route,c=o._routerViewCache||(o._routerViewCache={}),p=0,f=!1;o&&o._routerRoot!==o;)o.$vnode&&o.$vnode.data.routerView&&p++,o._inactive&&(f=!0),o=o.$parent;if(i.routerViewDepth=p,f)return a(c[u],i,n);var h=s.matched[p];if(!h)return c[u]=null,a();var l=c[u]=h.components[u];return i.registerRouteInstance=function(t,e){var r=h.instances[u];(e&&r!==t||!e&&r===t)&&(h.instances[u]=e)},(i.hook||(i.hook={})).prepatch=function(t,e){h.instances[u]=e.componentInstance},i.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:t.path}}(s,h.props&&h.props[u]),a(l,i,n)}};var n=/[!'()*]/g,o=function(t){return"%"+t.charCodeAt(0).toString(16)},i=/%2C/g,a=function(t){return encodeURIComponent(t).replace(n,o).replace(i,",")},u=decodeURIComponent;function s(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var r=t.replace(/\+/g," ").split("="),n=u(r.shift()),o=r.length>0?u(r.join("=")):null;void 0===e[n]?e[n]=o:Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]}),e):e}function c(t){var e=t?Object.keys(t).map(function(e){var r=t[e];if(void 0===r)return"";if(null===r)return a(e);if(Array.isArray(r)){var n=[];return r.forEach(function(t){void 0!==t&&(null===t?n.push(a(e)):n.push(a(e)+"="+a(t)))}),n.join("&")}return a(e)+"="+a(r)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var p=/\/?$/;function f(t,e,r,n){var o=n&&n.options.stringifyQuery,i={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:e.query||{},params:e.params||{},fullPath:d(e,o),matched:t?l(t):[]};return r&&(i.redirectedFrom=d(r,o)),Object.freeze(i)}var h=f(null,{path:"/"});function l(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function d(t,e){var r=t.path,n=t.query;void 0===n&&(n={});var o=t.hash;return void 0===o&&(o=""),(r||"/")+(e||c)(n)+o}function y(t,e){return e===h?t===e:!!e&&(t.path&&e.path?t.path.replace(p,"")===e.path.replace(p,"")&&t.hash===e.hash&&v(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&v(t.query,e.query)&&v(t.params,e.params)))}function v(t,e){void 0===t&&(t={}),void 0===e&&(e={});var r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&r.every(function(r){var n=t[r],o=e[r];return"object"==typeof n&&"object"==typeof o?v(n,o):String(n)===String(o)})}var m,g=[String,Object],w=[String,Array],b={name:"router-link",props:{to:{type:g,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:w,default:"click"}},render:function(t){var e=this,r=this.$router,n=this.$route,o=r.resolve(this.to,n,this.append),i=o.location,a=o.route,u=o.href,s={},c=r.options.linkActiveClass,h=r.options.linkExactActiveClass,l=null==c?"router-link-active":c,d=null==h?"router-link-exact-active":h,v=null==this.activeClass?l:this.activeClass,g=null==this.exactActiveClass?d:this.exactActiveClass,w=i.path?f(null,i,null,r):a;s[g]=y(n,w),s[v]=this.exact?s[g]:function(t,e){return 0===t.path.replace(p,"/").indexOf(e.path.replace(p,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var r in e)if(!(r in t))return!1;return!0}(t.query,e.query)}(n,w);var b=function(t){R(t)&&(e.replace?r.replace(i):r.push(i))},_={click:R};Array.isArray(this.event)?this.event.forEach(function(t){_[t]=b}):_[this.event]=b;var x={class:s};if("a"===this.tag)x.on=_,x.attrs={href:u};else{var L=function t(e){if(e)for(var r,n=0;n<e.length;n++){if("a"===(r=e[n]).tag)return r;if(r.children&&(r=t(r.children)))return r}}(this.$slots.default);if(L){L.isStatic=!1;var k=m.util.extend;(L.data=k({},L.data)).on=_,(L.data.attrs=k({},L.data.attrs)).href=u}else x.on=_}return t(this.tag,x,this.$slots.default)}};function R(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function _(t){if(!_.installed){_.installed=!0,m=t;var e=function(t){return void 0!==t},n=function(t,r){var n=t.$options._parentVnode;e(n)&&e(n=n.data)&&e(n=n.registerRouteInstance)&&n(t,r)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("router-view",r),t.component("router-link",b);var o=t.config.optionMergeStrategies;o.beforeRouteEnter=o.beforeRouteLeave=o.beforeRouteUpdate=o.created}}var x="undefined"!=typeof window;function L(t,e,r){var n=t.charAt(0);if("/"===n)return t;if("?"===n||"#"===n)return e+t;var o=e.split("/");r&&o[o.length-1]||o.pop();for(var i=t.replace(/^\//,"").split("/"),a=0;a<i.length;a++){var u=i[a];".."===u?o.pop():"."!==u&&o.push(u)}return""!==o[0]&&o.unshift(""),o.join("/")}function k(t){return t.replace(/\/\//g,"/")}var z=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},C=H,E=q,A=function(t,e){return T(q(t,e))},O=T,j=V,S=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function q(t,e){for(var r,n=[],o=0,i=0,a="",u=e&&e.delimiter||"/";null!=(r=S.exec(t));){var s=r[0],c=r[1],p=r.index;if(a+=t.slice(i,p),i=p+s.length,c)a+=c[1];else{var f=t[i],h=r[2],l=r[3],d=r[4],y=r[5],v=r[6],m=r[7];a&&(n.push(a),a="");var g=null!=h&&null!=f&&f!==h,w="+"===v||"*"===v,b="?"===v||"*"===v,R=r[2]||u,_=d||y;n.push({name:l||o++,prefix:h||"",delimiter:R,optional:b,repeat:w,partial:g,asterisk:!!m,pattern:_?M(_):m?".*":"[^"+P(R)+"]+?"})}}return i<t.length&&(a+=t.substr(i)),a&&n.push(a),n}function $(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function T(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,n){for(var o="",i=r||{},a=(n||{}).pretty?$:encodeURIComponent,u=0;u<t.length;u++){var s=t[u];if("string"!=typeof s){var c,p=i[s.name];if(null==p){if(s.optional){s.partial&&(o+=s.prefix);continue}throw new TypeError('Expected "'+s.name+'" to be defined')}if(z(p)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(c=a(p[f]),!e[u].test(c))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received `'+JSON.stringify(c)+"`");o+=(0===f?s.prefix:s.delimiter)+c}}else{if(c=s.asterisk?encodeURI(p).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):a(p),!e[u].test(c))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+c+'"');o+=s.prefix+c}}else o+=s}return o}}function P(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function M(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function F(t,e){return t.keys=e,t}function U(t){return t.sensitive?"":"i"}function V(t,e,r){z(e)||(r=e||r,e=[]);for(var n=(r=r||{}).strict,o=!1!==r.end,i="",a=0;a<t.length;a++){var u=t[a];if("string"==typeof u)i+=P(u);else{var s=P(u.prefix),c="(?:"+u.pattern+")";e.push(u),u.repeat&&(c+="(?:"+s+c+")*"),i+=c=u.optional?u.partial?s+"("+c+")?":"(?:"+s+"("+c+"))?":s+"("+c+")"}}var p=P(r.delimiter||"/"),f=i.slice(-p.length)===p;return n||(i=(f?i.slice(0,-p.length):i)+"(?:"+p+"(?=$))?"),i+=o?"$":n&&f?"":"(?="+p+"|$)",F(new RegExp("^"+i,U(r)),e)}function H(t,e,r){return z(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?function(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return F(t,e)}(t,e):z(t)?function(t,e,r){for(var n=[],o=0;o<t.length;o++)n.push(H(t[o],e,r).source);return F(new RegExp("(?:"+n.join("|")+")",U(r)),e)}(t,e,r):function(t,e,r){return V(q(t,r),e,r)}(t,e,r)}C.parse=E,C.compile=A,C.tokensToFunction=O,C.tokensToRegExp=j;var I=Object.create(null);function N(t,e,r){try{return(I[t]||(I[t]=C.compile(t)))(e||{},{pretty:!0})}catch(t){return t.message,""}}function B(e,r,n,o){var i=r||[],a=n||Object.create(null),u=o||Object.create(null);e.forEach(function(e){!function e(r,n,o,i,a,u){var s=i.path;var c=i.name;t(null!=s,'"path" is required in a route configuration.'),t("string"!=typeof i.component,'route config "component" for path: '+String(s||c)+" cannot be a string id. Use an actual component instead.");var p=function(t,e){if("/"===(t=t.replace(/\/$/,""))[0])return t;if(null==e)return t;return k(e.path+"/"+t)}(s,a);var f=i.pathToRegexpOptions||{};"boolean"==typeof i.caseSensitive&&(f.sensitive=i.caseSensitive);var h={path:p,regex:J(p,f),components:i.components||{default:i.component},instances:{},name:c,parent:a,matchAs:u,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&(i.name&&!i.redirect&&i.children.some(function(t){return/^\/?$/.test(t.path)})&&(i.name,i.name),i.children.forEach(function(t){var i=u?k(u+"/"+t.path):void 0;e(r,n,o,t,h,i)}));if(void 0!==i.alias){var l=Array.isArray(i.alias)?i.alias:[i.alias];l.forEach(function(t){var u={path:t,children:i.children};e(r,n,o,u,a,h.path||"/")})}n[h.path]||(r.push(h.path),n[h.path]=h);c&&(o[c]||(o[c]=h))}(i,a,u,e)});for(var s=0,c=i.length;s<c;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),c--,s--);return{pathList:i,pathMap:a,nameMap:u}}function J(t,e){var r=C(t,[],e),n={};return r.keys.forEach(function(t){n[t.name],n[t.name]=!0}),r}function K(t,e,r,n){var o="string"==typeof t?{path:t}:t;if(o.name||o._normalized)return o;if(!o.path&&o.params&&e){(o=Q({},o))._normalized=!0;var i=Q(Q({},e.params),o.params);if(e.name)o.name=e.name,o.params=i;else if(e.matched.length){var a=e.matched[e.matched.length-1].path;o.path=N(a,i,e.path)}return o}var u=function(t){var e="",r="",n=t.indexOf("#");n>=0&&(e=t.slice(n),t=t.slice(0,n));var o=t.indexOf("?");return o>=0&&(r=t.slice(o+1),t=t.slice(0,o)),{path:t,query:r,hash:e}}(o.path||""),c=e&&e.path||"/",p=u.path?L(u.path,c,r||o.append):c,f=function(t,e,r){void 0===e&&(e={});var n,o=r||s;try{n=o(t||"")}catch(t){t.message,n={}}for(var i in e){var a=e[i];n[i]=Array.isArray(a)?a.slice():a}return n}(u.query,o.query,n&&n.options.parseQuery),h=o.hash||u.hash;return h&&"#"!==h.charAt(0)&&(h="#"+h),{_normalized:!0,path:p,query:f,hash:h}}function Q(t,e){for(var r in e)t[r]=e[r];return t}function D(e,r){var n=B(e),o=n.pathList,i=n.pathMap,a=n.nameMap;function u(t,e,n){var u=K(t,e,!1,r),s=u.name;if(s){var p=a[s];if(!p)return c(null,u);var f=p.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof u.params&&(u.params={}),e&&"object"==typeof e.params)for(var h in e.params)!(h in u.params)&&f.indexOf(h)>-1&&(u.params[h]=e.params[h]);if(p)return u.path=N(p.path,u.params),c(p,u,n)}else if(u.path){u.params={};for(var l=0;l<o.length;l++){var d=o[l],y=i[d];if(G(y.regex,u.path,u.params))return c(y,u,n)}}return c(null,u)}function s(e,n){var o=e.redirect,i="function"==typeof o?o(f(e,n,null,r)):o;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return JSON.stringify(i),c(null,n);var s=i,p=s.name,h=s.path,l=n.query,d=n.hash,y=n.params;if(l=s.hasOwnProperty("query")?s.query:l,d=s.hasOwnProperty("hash")?s.hash:d,y=s.hasOwnProperty("params")?s.params:y,p)return t(a[p],'redirect failed: named route "'+p+'" not found.'),u({_normalized:!0,name:p,query:l,hash:d,params:y},void 0,n);if(h){var v=function(t,e){return L(t,e.parent?e.parent.path:"/",!0)}(h,e);return u({_normalized:!0,path:N(v,y),query:l,hash:d},void 0,n)}return JSON.stringify(i),c(null,n)}function c(t,e,n){return t&&t.redirect?s(t,n||e):t&&t.matchAs?function(t,e,r){var n=u({_normalized:!0,path:N(r,e.params)});if(n){var o=n.matched,i=o[o.length-1];return e.params=n.params,c(i,e)}return c(null,e)}(0,e,t.matchAs):f(t,e,n,r)}return{match:u,addRoutes:function(t){B(t,o,i,a)}}}function G(t,e,r){var n=e.match(t);if(!n)return!1;if(!r)return!0;for(var o=1,i=n.length;o<i;++o){var a=t.keys[o-1],u="string"==typeof n[o]?decodeURIComponent(n[o]):n[o];a&&(r[a.name]=u)}return!0}var X=Object.create(null);function Y(){window.addEventListener("popstate",function(t){var e;W(),t.state&&t.state.key&&(e=t.state.key,at=e)})}function Z(e,r,n,o){if(e.app){var i=e.options.scrollBehavior;i&&(t("function"==typeof i,"scrollBehavior must be a function"),e.app.$nextTick(function(){var t=function(){var t=st();if(t)return X[t]}(),e=i(r,n,o?t:null);if(e){var a,u="object"==typeof e;if(u&&"string"==typeof e.selector){var s=document.querySelector(e.selector);if(s){var c=e.offset&&"object"==typeof e.offset?e.offset:{};t=function(t,e){var r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{x:n.left-r.left-e.x,y:n.top-r.top-e.y}}(s,c={x:rt((a=c).x)?a.x:0,y:rt(a.y)?a.y:0})}else tt(e)&&(t=et(e))}else u&&tt(e)&&(t=et(e));t&&window.scrollTo(t.x,t.y)}}))}}function W(){var t=st();t&&(X[t]={x:window.pageXOffset,y:window.pageYOffset})}function tt(t){return rt(t.x)||rt(t.y)}function et(t){return{x:rt(t.x)?t.x:window.pageXOffset,y:rt(t.y)?t.y:window.pageYOffset}}function rt(t){return"number"==typeof t}var nt,ot=x&&((-1===(nt=window.navigator.userAgent).indexOf("Android 2.")&&-1===nt.indexOf("Android 4.0")||-1===nt.indexOf("Mobile Safari")||-1!==nt.indexOf("Chrome")||-1!==nt.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history),it=x&&window.performance&&window.performance.now?window.performance:Date,at=ut();function ut(){return it.now().toFixed(3)}function st(){return at}function ct(t,e){W();var r=window.history;try{e?r.replaceState({key:at},"",t):(at=ut(),r.pushState({key:at},"",t))}catch(r){window.location[e?"replace":"assign"](t)}}function pt(t){ct(t,!0)}function ft(t,e,r){var n=function(o){o>=t.length?r():t[o]?e(t[o],function(){n(o+1)}):n(o+1)};n(0)}function ht(t,e){return lt(t.map(function(t){return Object.keys(t.components).map(function(r){return e(t.components[r],t.instances[r],t,r)})}))}function lt(t){return Array.prototype.concat.apply([],t)}function dt(t){var e=!1;return function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];if(!e)return e=!0,t.apply(this,r)}}var yt=function(t,e){this.router=t,this.base=function(t){if(!t)if(x){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=h,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function vt(t,e,r,n){var o=ht(t,function(t,n,o,i){var a=function(t,e){"function"!=typeof t&&(t=m.extend(t));return t.options[e]}(t,e);if(a)return Array.isArray(a)?a.map(function(t){return r(t,n,o,i)}):r(a,n,o,i)});return lt(n?o.reverse():o)}function mt(t,e){if(e)return function(){return t.apply(e,arguments)}}yt.prototype.listen=function(t){this.cb=t},yt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},yt.prototype.onError=function(t){this.errorCbs.push(t)},yt.prototype.transitionTo=function(t,e,r){var n=this,o=this.router.match(t,this.current);this.confirmTransition(o,function(){n.updateRoute(o),e&&e(o),n.ensureURL(),n.ready||(n.ready=!0,n.readyCbs.forEach(function(t){t(o)}))},function(t){r&&r(t),t&&!n.ready&&(n.ready=!0,n.readyErrorCbs.forEach(function(e){e(t)}))})},yt.prototype.confirmTransition=function(t,r,n){var o=this,i=this.current,a=function(t){e(t)&&(o.errorCbs.length?o.errorCbs.forEach(function(e){e(t)}):console.error(t)),n&&n(t)};if(y(t,i)&&t.matched.length===i.matched.length)return this.ensureURL(),a();var u,s=function(t,e){var r,n=Math.max(t.length,e.length);for(r=0;r<n&&t[r]===e[r];r++);return{updated:e.slice(0,r),activated:e.slice(r),deactivated:t.slice(r)}}(this.current.matched,t.matched),c=s.updated,p=s.deactivated,f=s.activated,h=[].concat(function(t){return vt(t,"beforeRouteLeave",mt,!0)}(p),this.router.beforeHooks,function(t){return vt(t,"beforeRouteUpdate",mt)}(c),f.map(function(t){return t.beforeEnter}),(u=f,function(t,r,n){var o=!1,i=0,a=null;ht(u,function(t,r,u,s){if("function"==typeof t&&void 0===t.cid){o=!0,i++;var c,p=dt(function(e){e.__esModule&&e.default&&(e=e.default),t.resolved="function"==typeof e?e:m.extend(e),u.components[s]=e,--i<=0&&n()}),f=dt(function(t){var r="Failed to resolve async component "+s+": "+t;a||(a=e(t)?t:new Error(r),n(a))});try{c=t(p,f)}catch(t){f(t)}if(c)if("function"==typeof c.then)c.then(p,f);else{var h=c.component;h&&"function"==typeof h.then&&h.then(p,f)}}}),o||n()}));this.pending=t;var l=function(r,n){if(o.pending!==t)return a();try{r(t,i,function(t){!1===t||e(t)?(o.ensureURL(!0),a(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(a(),"object"==typeof t&&t.replace?o.replace(t):o.push(t)):n(t)})}catch(t){a(t)}};ft(h,l,function(){var e=[];ft(function(t,e,r){return vt(t,"beforeRouteEnter",function(t,n,o,i){return function(t,e,r,n,o){return function(i,a,u){return t(i,a,function(t){u(t),"function"==typeof t&&n.push(function(){!function t(e,r,n,o){r[n]?e(r[n]):o()&&setTimeout(function(){t(e,r,n,o)},16)}(t,e.instances,r,o)})})}}(t,o,i,e,r)})}(f,e,function(){return o.current===t}).concat(o.router.resolveHooks),l,function(){if(o.pending!==t)return a();o.pending=null,r(t),o.router.app&&o.router.app.$nextTick(function(){e.forEach(function(t){t()})})})})},yt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(r){r&&r(t,e)})};var gt=function(t){function e(e,r){var n=this;t.call(this,e,r);var o=e.options.scrollBehavior;o&&Y(),window.addEventListener("popstate",function(t){var r=n.current;n.transitionTo(wt(n.base),function(t){o&&Z(e,t,r,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,r){var n=this,o=this.current;this.transitionTo(t,function(t){ct(k(n.base+t.fullPath)),Z(n.router,t,o,!1),e&&e(t)},r)},e.prototype.replace=function(t,e,r){var n=this,o=this.current;this.transitionTo(t,function(t){pt(k(n.base+t.fullPath)),Z(n.router,t,o,!1),e&&e(t)},r)},e.prototype.ensureURL=function(t){if(wt(this.base)!==this.current.fullPath){var e=k(this.base+this.current.fullPath);t?ct(e):pt(e)}},e.prototype.getCurrentLocation=function(){return wt(this.base)},e}(yt);function wt(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var bt=function(t){function e(e,r,n){t.call(this,e,r),n&&function(t){var e=wt(t);if(!/^\/#/.test(e))return window.location.replace(k(t+"/#"+e)),!0}(this.base)||Rt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;window.addEventListener("hashchange",function(){Rt()&&t.transitionTo(_t(),function(t){Lt(t.fullPath)})})},e.prototype.push=function(t,e,r){this.transitionTo(t,function(t){xt(t.fullPath),e&&e(t)},r)},e.prototype.replace=function(t,e,r){this.transitionTo(t,function(t){Lt(t.fullPath),e&&e(t)},r)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;_t()!==e&&(t?xt(e):Lt(e))},e.prototype.getCurrentLocation=function(){return _t()},e}(yt);function Rt(){var t=_t();return"/"===t.charAt(0)||(Lt("/"+t),!1)}function _t(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.slice(e+1)}function xt(t){window.location.hash=t}function Lt(t){var e=window.location.href,r=e.indexOf("#"),n=r>=0?e.slice(0,r):e;window.location.replace(n+"#"+t)}var kt=function(t){function e(e,r){t.call(this,e,r),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,r){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index+1).concat(t),n.index++,e&&e(t)},r)},e.prototype.replace=function(t,e,r){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index).concat(t),e&&e(t)},r)},e.prototype.go=function(t){var e=this,r=this.index+t;if(!(r<0||r>=this.stack.length)){var n=this.stack[r];this.confirmTransition(n,function(){e.index=r,e.updateRoute(n)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(yt),zt=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=D(e.routes||[],this);var r=e.mode||"hash";switch(this.fallback="history"===r&&!ot&&!1!==e.fallback,this.fallback&&(r="hash"),x||(r="abstract"),this.mode=r,r){case"history":this.history=new gt(this,e.base);break;case"hash":this.history=new bt(this,e.base,this.fallback);break;case"abstract":this.history=new kt(this,e.base);break;default:t(!1,"invalid mode: "+r)}},Ct={currentRoute:{}};function Et(t,e){return t.push(e),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}return zt.prototype.match=function(t,e,r){return this.matcher.match(t,e,r)},Ct.currentRoute.get=function(){return this.history&&this.history.current},zt.prototype.init=function(e){var r=this;if(t(_.installed,"not installed. Make sure to call `Vue.use(VueRouter)` before creating root instance."),this.apps.push(e),!this.app){this.app=e;var n=this.history;if(n instanceof gt)n.transitionTo(n.getCurrentLocation());else if(n instanceof bt){var o=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),o,o)}n.listen(function(t){r.apps.forEach(function(e){e._route=t})})}},zt.prototype.beforeEach=function(t){return Et(this.beforeHooks,t)},zt.prototype.beforeResolve=function(t){return Et(this.resolveHooks,t)},zt.prototype.afterEach=function(t){return Et(this.afterHooks,t)},zt.prototype.onReady=function(t,e){this.history.onReady(t,e)},zt.prototype.onError=function(t){this.history.onError(t)},zt.prototype.push=function(t,e,r){this.history.push(t,e,r)},zt.prototype.replace=function(t,e,r){this.history.replace(t,e,r)},zt.prototype.go=function(t){this.history.go(t)},zt.prototype.back=function(){this.go(-1)},zt.prototype.forward=function(){this.go(1)},zt.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},zt.prototype.resolve=function(t,e,r){var n=K(t,e||this.history.current,r,this),o=this.match(n,e),i=o.redirectedFrom||o.fullPath;return{location:n,route:o,href:function(t,e,r){var n="hash"===r?"#"+e:e;return t?k(t+"/"+n):n}(this.history.base,i,this.mode),normalizedTo:n,resolved:o}},zt.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==h&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(zt.prototype,Ct),zt.install=_,zt.version="2.7.0",x&&window.Vue&&window.Vue.use(zt),zt});var LazyRouting={_routeMap:{},__routeMap:{},_controlJs:{},__mirror:[]},router=new VueRouter({mode:"history"}),app;router.beforeEach(function(t,e,r){!t.name||LazyRouting.__routeMap[t.name]||LazyRouting.__mirror.some(e=>e.src==t.path)?r():LazyRouting._loadComponentAsync(t.name,LazyRouting.__mirror.filter(e=>e.src==router.history.current.fullPath&&e.dest==t.name)).then(()=>{r()})}),router.afterEach((t,e)=>{if($(window).scrollTop(0),t.matched.length&&t.matched[0].instances.default){var r=t.matched[0].instances.default;r&&r.$options.created.length&&r.$options.created[0].call(r)}}),LazyRouting.SetRoute=function(t){LazyRouting._routeMap=t},LazyRouting.SetMirror=function(t){for(var e in LazyRouting.__mirror=[],t)LazyRouting.__mirror.push({src:e,dest:t[e]})},LazyRouting._documentReadyPromise=new Promise(function(resolve,reject){$(document).ready(function(){LazyRouting._getHtmlAsync("/views/index.js",!0).then(function(js){try{eval(js)}catch(t){console.error(t)}return Promise.resolve()},function(){return Promise.resolve()}).then(function(){for(var t in LazyRouting._routeMap){var e=t,r=!0;if(LazyRouting._routeMap[t])for(var n in LazyRouting._routeMap[t])e=e.replace(new RegExp(":"+n,"g"),LazyRouting._routeMap[t][n]);var o=new RegExp("^"+e+"$","g"),i=LazyRouting._hideQueryString(router.history.current.fullPath);if(o.test(i)||LazyRouting.__mirror.some(e=>e.src==i&&e.dest==t)){LazyRouting._loadComponentAsync(t,LazyRouting.__mirror.filter(e=>e.src==i&&e.dest==t)),r=!1;break}}r&&app.redirect("/home"),app.$mount("#app"),resolve()})})}),LazyRouting._getHtmlAsync=async function(t){var e=await fetch(t),r=await e.text();if(r.indexOf("<head>")>=0)throw"Invalid content";return r},LazyRouting._hideQueryString=function(t){return t.indexOf("?")>=0?t.substr(0,t.indexOf("?")):t},LazyRouting._parseQueryString=function(dataFunc,query){var data=dataFunc?dataFunc():{};if(query){for(var x in query)try{LazyRouting._liftCreate(data,x),!isNaN(parseInt(query[x]))&&parseInt(query[x]).toString()===query[x]||!isNaN(parseFloat(query[x]&&parseFloat(query[x]).toString()===query[x]))?eval("data."+x+"="+query[x]+";"):eval("data."+x+"=query[x];")}catch(t){console.error(x,query[x],t)}dataFunc=function(){return data}}else{var queryString=window.location.toString();if(queryString.indexOf("?")>=0){queryString=queryString.substr(queryString.indexOf("?")+1);for(var params=queryString.split("&"),i=0;i<params.length;i++){var splitedKeyValuePair=params[i].split("="),key=splitedKeyValuePair[0],value=decodeURIComponent(splitedKeyValuePair[1]);try{LazyRouting._liftCreate(data,key),isNaN(parseInt(value))&&isNaN(parseFloat(value))?eval("data."+key+"=value;"):eval("data."+key+"="+value+";")}catch(t){console.error(t)}}dataFunc=function(){return data}}}return dataFunc},LazyRouting._liftCreate=function(obj,key){for(var fields=key.split("."),prefix="obj",i=0;i<fields.length;i++){var needCreate=!1;eval("if (!"+prefix+"."+fields[i]+") { needCreate = true; }"),needCreate&&eval(prefix+"."+fields[i]+"= {};"),prefix=prefix+"."+fields[i]}},LazyRouting._loadComponentAsync=function(rule,map){if(LazyRouting.__mirror.some(t=>t.src==rule))return Promise.reject();var path=LazyRouting._convertToViewNameBase(rule);return LazyRouting._getHtmlAsync("/views"+path+".html").then(async t=>{try{var e=await LazyRouting._getHtmlAsync("/views"+path+".js");LazyRouting._controlJs[rule]=e}catch(t){}return Promise.resolve(t)},()=>LazyRouting._getHtmlAsync("/views"+path+"/index.html")).then(async result=>{try{var js=await LazyRouting._getHtmlAsync("/views"+path+"/index.js");LazyRouting._controlJs[rule]=js}catch(t){}var component={template:result};if(LazyRouting._controlJs[rule]&&eval(LazyRouting._controlJs[rule]),component.watch)for(var x in component.watch){var watchFunc=component.watch[x];if("function"==typeof watchFunc){var str=watchFunc.toString().replace("{","{\r\n if(!this.__initFinished)return;\r\n");eval("component.watch[x]="+str)}}var func=component.created;if(component.created=function(){$(window).scrollTop(0);var t=LazyRouting._parseQueryString(this.$options.data,router.history.current.query)();Object.assign(this.$data,t),func&&func.call(this);var e=this;setTimeout(function(){e.__initFinished=!0},500)},LazyRouting.__routeMap[rule]={path:rule,name:rule,component:component},router.addRoutes([LazyRouting.__routeMap[rule]]),map&&map.length>0)for(var i=0;i<map.length;i++)try{router.addRoutes([{path:map[i].src,name:map[i].src,component:component}])}catch(t){}return Promise.resolve(component)},t=>console.error(t))},LazyRouting._convertToViewNameBase=function(t){return"/"==(t=t.replace(/(:[0-9a-zA-Z]{1,}\/|:[0-9a-zA-Z]{1,})/g,""))[t.length-1]&&(t=t.substr(0,t.length-1)),t},LazyRouting.RedirectTo=async function(t,e,r,n){var o=LazyRouting.GetCurrentComponent();if(o&&delete o.__initFinished,LazyRouting.__mirror.some(t=>t.src==e)){if(!LazyRouting.__routeMap[t]){var i=LazyRouting.__mirror.filter(t=>t.src==e)[0].dest;await LazyRouting._loadComponentAsync(i,[{src:e,dest:i}])}}else await LazyRouting._loadComponentAsync(t,LazyRouting.__mirror.filter(e=>e.src==router.history.current.fullPath&&e.dest==t));router.push({name:t,path:e,params:r,query:n})},LazyRouting._sleep=function(t){new Promise((e,r)=>{setTimeout(function(){e()},t)})},LazyRouting.GetCurrentComponent=function(){return router.history.current.matched.length?router.history.current.matched[0].instances.default:null};